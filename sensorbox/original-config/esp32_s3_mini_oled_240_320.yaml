substitutions:
  name: "s3_mini_oled_320"
  
esphome:
  name: ${name}
  # platform: esp32
  # board: esp32-s3-devkitc-1

esp32:
  board: esp32-s3-devkitc-1
  variant: esp32s3
  framework:
    type: arduino
    # type: esp-idf


wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  fast_connect: true
  
  ap:
    ssid: substitutions.name
    password: "12345678"

captive_portal:

logger:

ota:
  password: "585353d758e3f126d2f4982f0695d956"
  platform: esphome

web_server:
  port: 80

api:
  encryption:
    key: "18T6rbg6kRjpusDhj2opiK2Rr9jksMd7ikNJ7IwsSeE="

# mqtt:
#   broker: !secret mqtt_broker
#   username: !secret mqtt_user
#   password: !secret mqtt_password

spi:
  clk_pin: GPIO01
  mosi_pin: GPIO02

font:
  - file: "fonts/Arial.ttf"
    id: font1
    size: 30

display:
  - platform: ili9xxx
    model: ST7789V
    dc_pin: GPIO04
    reset_pin: GPIO05
    cs_pin: GPIO03
    data_rate: 40MHz
    update_interval: 5s
    invert_colors: true
    rotation: 90
    dimensions:
      width: 240
      height: 320
    lambda: |-
      it.fill(Color(255, 0, 0));
      it.printf(10, 10, id(font1), "Hallo ESPHome!");

output:
  - platform: ledc
    pin: GPIO06
    id: backlight_pwm
    frequency: 1000Hz

light:
  - platform: monochromatic
    output: backlight_pwm
    name: "TFT Backlight"
    id: tft_light
    default_transition_length: 0s
    restore_mode: ALWAYS_ON
    on_turn_on:
      then:
        - light.dim_relative:
            id: tft_light
            relative_brightness: 80%
